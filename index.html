<html>
<head>
	<title>DistillerJS самогонные расчеты в одном HTML файле.</title>
<style type="text/css">

th {
	border-bottom: 1px dashed black;
	background: green;
	
	}	
	
.vvod {
	border: 0;
	}

.itog {
	background: black;
	color: yellow;
	border: 0;
	}
	
</style>
</head>



	
<body>

<table align="center">
<tr><td align="center" bgcolor="yellow">DistillerJS-01</td></tr>
<tr>
<td>

	<form name="puzir">
<table width="100%"  border="0" cellspacing="0" cellpadding="2">
	<tr><th colspan="3" >Сортировка.</th></tr>
	
	<tr bgcolor="silver">
		<td>Имеем раствор крепостью:</td>
		<td>%</td>
		<td align=right><input class=vvod id="bochka_krep"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Хотим:</td>
		<td>л.</td>
		<td align=right><input class=vvod id="butilka"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Крепостью:</td>
		<td>%</td>
		<td align=right><input class=vvod id="butilka_krep"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Отливаем:</td>
		<td>л.</td>
		<td align=right><input class=itog readonly=true id="sliv"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Добавляем воды:</td>
		<td>л.</td><td align=right><input class=itog readonly=true id="doliv"  size="5"></td>
		</tr>

</table>
</form>
		
<form name=razvod_do>
<table width="100%" border="0" cellspacing="0" cellpadding="2">
	
	<tr><th colspan="3" align="center" bgcolor="green">Разбавление.</th></tr>
	
	<tr bgcolor="silver">
		<td>Имеем раствор крепостью:</td>
		<td>%</td>
		<td align=right><input class=vvod id="krepost"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>В количестве:</td>
		<td>л.</td>
		<td align=right><input class=vvod id="vol"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Хотим разбавить до:</td>
		<td>%</td>
		<td align=right><input class=vvod id="do_kreposti"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Доливаем воды в количестве:</td>
		<td>л.</td>
		<td align=right><input class=itog readonly=true id="voda"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Получаем:</td>
		<td>л.</td>
		<td align=right><input class=itog readonly=true id="itogo"  size="5"></td>
		</tr>

</table>
</form>

<form name=fog_speed>
<table width="100%" border="0" cellspacing="0" cellpadding="2">
	
	<tr><th colspan="3" align="center" bgcolor="green">Скорость пара.</th></tr>
	
	<tr bgcolor="silver">
		<td>Диаметр трубы:</td>
		<td>мм.</td>
		<td align=right><input class=vvod id="diameter"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Мощность:</td>
		<td>кВт.</td>
		<td align=right><input class=vvod id="power"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Сечение:</td>
		<td>мм<sup><small>2</small></sup></td>
		<td align=right><input class=itog readonly=true id="area"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Скорость пара:</td>
		<td>м/с</td>
		<td align=right><input class=itog readonly=true id="speed"  size="5"></td>
		</tr>
	
</table>
</form>

<form name=temp_spirit>
<table width="100%" border="0" cellspacing="0" cellpadding="2">
	
	<tr><th colspan="3" align="center" bgcolor="green">Крепость по температуре кипения.</th></tr>
	
	<tr bgcolor="silver">
		<td>Температура кипения:</td>
		<td>&degС</td>
		<td align=right><input class=vvod id="temp"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Крепость:</td>
		<td>%</td>
		<td align=right><input class=itog readonly=true id="spirit"  size="5"></td>
		</tr>
	
</table>
</form>

<form name=smes_doliv>
<table width="100%" border="0" cellspacing="0" cellpadding="2">
	
	<tr><th colspan="3" align="center" bgcolor="green">Долив воды 2 до нужной температуры.</th></tr>
		
	<tr bgcolor="silver">
		<td>Температура воды 1:</td>
		<td>&degС</td>
		<td align=right><input class=vvod id="t_1"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Объем воды 1:</td>
		<td>л.</td>
		<td align=right><input class=vvod id="v_1"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Температура воды 2:</td>
		<td>&degС</td>
		<td align=right><input class=vvod id="t_2"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Температура смеси:</td>
		<td>&degС</td>
		<td align=right><input class=vvod id="t_s"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Объем воды 2:</td>
		<td>л.</td>
		<td align=right><input class=itog readonly=true id="v_2"  size="5"></td>
		</tr>
	
</table>
</form>

<form name=smes_temp>
<table width="100%" border="0" cellspacing="0" cellpadding="2">
	
	<tr><th colspan="3" align="center" bgcolor="green">Температура смеси воды 1 и 2.</th></tr>
	
	<tr bgcolor="silver">
		<td>Температура воды 1:</td>
		<td>&degC </td>
		<td align=right><input class=vvod id="t_1"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Объем воды 1:</td>
		<td>л.</td>
		<td align=right><input class=vvod id="v_1"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Температура воды 2:</td>
		<td>&degС </td>
		<td align=right><input class=vvod id="t_2"  size="5"></td>
		</tr>
		
	<tr bgcolor="grey">
		<td>Объем воды 2:</td>
		<td>л.</td>
		<td align=right><input class=vvod id="v_2"  size="5"></td>
		</tr>
		
	<tr bgcolor="silver">
		<td>Температура смеси:</td>
		<td>&degС </td>
		<td align=right><input class=itog readonly=true id="t_s"  size="5"></td>
		</tr>
	
</table>
</form>


</td>
</tr>
</table>

<script>

	function calc_puzir (f) {
		for (var i = 0; i < f.elements.length; i++) {
			var e = f.elements[i];
			e.onchange = function ()  {
				this.form.sliv.value = (this.form.butilka.value*this.form.butilka_krep.value/this.form.bochka_krep.value).toFixed(3);
				this.form.doliv.value = (this.form.butilka.value-this.form.sliv.value).toFixed(3);
				}
			}
		}

	function calc_razvod_do (f) {
		for (var i = 0; i < f.elements.length; i++) {
			var e = f.elements[i];
			e.onchange = function ()  {
				this.form.voda.value = ((this.form.vol.value*this.form.krepost.value/this.form.do_kreposti.value)-this.form.vol.value).toFixed(3);
				this.form.itogo.value = (this.form.vol.value*this.form.krepost.value/this.form.do_kreposti.value).toFixed(3);
				}
			}
		}


	function calc_fog_speed (f) {
		for (var i = 0; i < f.elements.length; i++) {
			var e = f.elements[i];
			e.onchange = function ()  {
				this.form.area.value = (Math.pow(this.form.diameter.value, 2)/4*3.14).toFixed(2);
				this.form.speed.value = (759.49/(Math.pow(this.form.diameter.value, 2)/4*3.14)*this.form.power.value).toFixed(2);
				}
			}
		}


	function calc_temp_spirit (f) {
		for (var i = 0; i < f.elements.length; i++) {
			var e = f.elements[i];
			e.onchange = function ()  {
				var Ti = (this.form.temp.value-89.03)/6.54;
				this.form.spirit.value = (16.75-19.05*Ti+12.64*Math.pow(Ti,2)-3.69*Math.pow(Ti,3)-0.38*Math.pow(Ti,4)).toFixed(2);

				}
			}
		}


	function calc_smes_doliv (f) {
		for (var i = 0; i < f.elements.length; i++) {
			var e = f.elements[i];
			e.onchange = function ()  {
				this.form.v_2.value = ((this.form.t_1.value-this.form.t_s.value)*this.form.v_1.value/(this.form.t_s.value-this.form.t_2.value)).toFixed(3);
				}
			}
		}


	function calc_smes_temp (f) {
		for (var i = 0; i < f.elements.length; i++) {
			var e = f.elements[i];
			e.onchange = function ()  {
				var t1 = parseFloat(this.form.t_1.value);
				var t2 = parseFloat(this.form.t_2.value);
				var v1 = parseFloat(this.form.v_1.value);
				var v2 = parseFloat(this.form.v_2.value);
				var z1 = (t1 * v1 + t2 * v2);
				var z2 = (z1/(v1+v2)).toFixed(3);
				this.form.t_s.value = z2;
				}
			}
		}


calc_razvod_do (document.razvod_do);
calc_puzir (document.puzir);
calc_fog_speed (document.fog_speed);
calc_temp_spirit (document.temp_spirit);
calc_smes_doliv (document.smes_doliv);
calc_smes_temp (document.smes_temp);
</script>
</body>
</html>


